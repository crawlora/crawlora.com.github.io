---
import '@styles/landing-page.css';

import LandingPageLayout from '@/layouts/LandingPageLayout.astro';
import { Image } from 'astro:assets';
// Navbar
import LandingPageNav from '@/components/sections/navbar&footer/landingPageNav.astro';

// Home section
import LandingHero from '@/components/sections/landing/LandingHero.astro';

//services
import LandingPageServices from '@/components/sections/services/LandingPageServices.astro';

//features
import LanginPageFeature from '@/components/sections/features/LanginPageFeature.astro';

//price
import LandingPagePrice from '@/components/sections/pricing/LandingPagePrice.astro';

//testimonials
import img1 from './images/testi/img-1.png';
import img2 from './images/testi/img-2.png';
import img3 from './images/testi/img-3.png';
import img4 from './images/testi/img-4.png';
import userImg1 from './images/user/img-1.jpg';
import userImg2 from './images/user/img-2.jpg';
import userImg3 from './images/user/img-3.jpg';
import userImg4 from './images/user/img-4.jpg';
import ratingImg from './images/testi/rating-image.png';

//slider
import LandingPageScreenShot from '@/components/sections/screenshot/LandingPageScreenShot.astro';

//team
import LandingPageTeamsection from '@/components/sections/team/LandingPageTeamsection.astro';

//cta
import appStoreImage from './images/img-appstore.png';
import googlePlayImage from './images/img-googleplay.png';
import ctaBgImage from './images/cta-bg.webp';

//contact
import LandingPageContact from '@/components/sections/contact/LandingPageContact.astro';

//footer
import LpageFooter from '@/components/sections/navbar&footer/LpageFooter.astro';
---

<LandingPageLayout>
  <a id="mode" class="mode-btn rounded-end text-white">
    <i class="uil uil-brightness mode-dark mx-auto"></i>
    <i class="uil uil-moon bx-spin mode-light"></i>
  </a>
  <!-- START  NAVBAR -->
  <LandingPageNav />
  <!-- END NAVBAR -->

  <!-- home section -->
  <LandingHero />
  <!-- end home section -->

  <!-- service section -->

  <LandingPageServices />

  <!-- end section -->
  <!-- start features -->
  <LanginPageFeature />
  <!-- end features -->

  <!-- start testimonial -->
  <!-- <section class="section bg-light testimonial" id="testimonial">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-4">
          <div class="title">
            <p class="text-primary fw-bold mb-0">
              Client Testimonial <i class="mdi mdi-cellphone-iphone"></i>
            </p>
            <h3>What they think of us!</h3>
            <p class="text-muted">
              Morbi at erat et tortor tempor sodales non eu lacus Donec at
              gravida nunc vitae volutpat. Morbi in sem quis dui placerat
              ornare.
            </p>
            <button class="btn bg-gradiant">
              Read More Testimonial <i class="mdi mdi-arrow-right"></i>
            </button>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="testi-slider" id="testi-slider">
            <div class="item">
              <div class="testi-box position-relative overflow-hidden">
                <div class="row align-items-center">
                  <div class="col-md-5">
                    <img
                      src={img1.src}
                      alt="Testimonial Image 1"
                      class="img-fluid"
                    />
                  </div>
                  <div class="col-md-7">
                    <div class="p-4">
                      <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                          <div class="avatar">
                            <img
                              src={userImg1.src}
                              alt="User Image 1"
                              class="img-fluid rounded-circle"
                            />
                          </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                          <p class="f-14 text-dark fw-bold mb-0">
                            <span class="text-muted fw-normal">Review By </span>
                            Freanki Fabel
                          </p>
                          <div class="date">
                            <p class="text-muted f-14 mb-0">
                              28 jan, 2021 <span>10:25 AM</span>
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="mt-3">
                        <h5 class="fw-bold">
                          Build The App That Everyone Loves.
                        </h5>
                        <p class="text-muted f-14">
                          Start working with Styza that can provide everything
                          you need to generate awareness, drive traffic,
                          connect.
                        </p>
                        <button class="btn btn-sm bg-gradiant">
                          <i class="mdi mdi-plus f-16 align-middle"></i>
                          Follow
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="back-image position-absolute bottom-0 end-0">
                  <img
                    src={ratingImg.src}
                    alt="Rating Image"
                    class="img-fluid"
                  />
                </div>
              </div>
            </div>

            <div class="item">
              <div class="testi-box position-relative overflow-hidden">
                <div class="row align-items-center">
                  <div class="col-md-5">
                    <img
                      src={img2.src}
                      alt="Testimonial Image 2"
                      class="img-fluid"
                    />
                  </div>
                  <div class="col-md-7">
                    <div class="user-select-none p-4">
                      <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                          <div class="avatar">
                            <img
                              src={userImg2.src}
                              alt="User Image 2"
                              class="img-fluid rounded-circle"
                            />
                          </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                          <p class="f-14 text-dark fw-bold mb-0">
                            <span class="text-muted fw-normal">Review By </span>
                            Freanki Fabel
                          </p>
                          <div class="date">
                            <p class="text-muted f-14 mb-0">
                              28 jan, 2021 <span>10:25 AM</span>
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="mt-3">
                        <h5 class="fw-bold">Easy and Perfect Solution</h5>
                        <p class="text-muted f-14">
                          Start working with Styza that can provide everything
                          you need to generate awareness, drive traffic,
                          connect.
                        </p>
                        <button class="btn btn-sm bg-gradiant">
                          <i class="mdi mdi-plus f-16 align-middle"></i>
                          Follow
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="back-image position-absolute bottom-0 end-0">
                  <img
                    src={ratingImg.src}
                    alt="Rating Image"
                    class="img-fluid"
                  />
                </div>
              </div>
            </div>

            <div class="item">
              <div class="testi-box position-relative overflow-hidden">
                <div class="row align-items-center">
                  <div class="col-md-5">
                    <img
                      src={img3.src}
                      alt="Testimonial Image 3"
                      class="img-fluid"
                    />
                  </div>
                  <div class="col-md-7">
                    <div class="user-select-none p-4">
                      <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                          <div class="avatar">
                            <img
                              src={userImg3.src}
                              alt="User Image 3"
                              class="img-fluid rounded-circle"
                            />
                          </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                          <p class="f-14 text-dark fw-bold mb-0">
                            <span class="text-muted fw-normal">Review By </span>
                            Freanki Fabel
                          </p>
                          <div class="date">
                            <p class="text-muted f-14 mb-0">
                              28 jan, 2021 <span>10:25 AM</span>
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="mt-3">
                        <h5 class="fw-bold">
                          Build The App That Everyone Loves.
                        </h5>
                        <p class="text-muted f-14">
                          Start working with Styza that can provide everything
                          you need to generate awareness, drive traffic,
                          connect.
                        </p>
                        <button class="btn btn-sm bg-gradiant">
                          <i class="mdi mdi-plus f-16 align-middle"></i>
                          Follow
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="back-image position-absolute bottom-0 end-0">
                  <img
                    src={ratingImg.src}
                    alt="Rating Image"
                    class="img-fluid"
                  />
                </div>
              </div>
            </div>

            <div class="item">
              <div class="testi-box position-relative overflow-hidden">
                <div class="row align-items-center">
                  <div class="col-md-5">
                    <img
                      src={img4.src}
                      alt="Testimonial Image 4"
                      class="img-fluid"
                    />
                  </div>
                  <div class="col-md-7">
                    <div class="user-select-none p-4">
                      <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                          <div class="avatar">
                            <img
                              src={userImg4.src}
                              alt="User Image 4"
                              class="img-fluid rounded-circle"
                            />
                          </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                          <p class="f-14 text-dark fw-bold mb-0">
                            <span class="text-muted fw-normal">Review By </span>
                            Freanki Fabel
                          </p>
                          <div class="date">
                            <p class="text-muted f-14 mb-0">
                              28 jan, 2021 <span>10:25 AM</span>
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="mt-3">
                        <h5 class="fw-bold">
                          Build The App That Everyone Loves.
                        </h5>
                        <p class="text-muted f-14">
                          Start working with Styza that can provide everything
                          you need to generate awareness, drive traffic,
                          connect.
                        </p>
                        <button class="btn btn-sm bg-gradiant">
                          <i class="mdi mdi-plus f-16 align-middle"></i>
                          Follow
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="back-image position-absolute bottom-0 end-0">
                  <img
                    src={ratingImg.src}
                    alt="Rating Image"
                    class="img-fluid"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section> -->
  <!-- end testimonial -->

  <!-- pricing section -->
  <LandingPagePrice />
  <!-- end pricing -->

  <!-- slider section -->
  <LandingPageScreenShot />
  <!-- end section -->

  <!-- team section -->
  <LandingPageTeamsection />
  <!-- end section -->

  <!-- cta section -->
  <!-- <section class="section cta">
    <div class="bg-overlay-gradiant"></div>

    <div class="position-relative container">
      <div class="row">
        <div class="col-lg-6">
          <div class="py-5">
            <h1 class="display-4 text-white">
              Build Your ideal workspace today.
            </h1>
            <p class="text-white-50 f-18 mt-3">
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iure
              distinctio vero facilis numquam sapiente! Eaque inventore eveniet
              repellendus quod maiores nulla.
            </p>
            <div class="d-flex mt-4">
              <div class="app-store">
                <a href="#">
                  <img
                    src={appStoreImage.src}
                    alt="App Store"
                    class="img-fluid"
                  />
                </a>
              </div>
              <div class="googleplay">
                <a href="#">
                  <img
                    src={googlePlayImage.src}
                    alt="Google Play"
                    class="img-fluid ms-3"
                  />
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="cta-phone-image">
            <img src={ctaBgImage.src} alt="CTA Background" class="img-fluid" />
          </div>
        </div>
      </div>
    </div>
  </section> -->
  <!-- end section -->
  <!-- contact section -->
  <LandingPageContact />
  <!-- end section -->

  <!-- footer section -->
  <LpageFooter />

  <!-- end footer -->

  <!-- Style switcher -->
  <div
    class="style-switcher"
    id="style-switcher"
    onclick="toggleSwitcher()"
    style="left: -189px;"
  >
    <div>
      <h6>Select your color</h6>
      <ul class="pattern list-unstyled mb-0">
        <li>
          <a
            class="color1"
            href="javascript: void(0);"
            onclick="setColor('default')"></a>
        </li>
        <li>
          <a
            class="color2"
            href="javascript: void(0);"
            onclick="setColor('blue')"></a>
        </li>
        <li>
          <a
            class="color3"
            href="javascript: void(0);"
            onclick="setColor('warning')"></a>
        </li>
      </ul>
    </div>
    <!-- <div class="bottom">
      <a href="javascript: void(0);" class="settings rounded-end"
        ><i
          class="uil uil-setting text-white"
          style="display: inline; line-height: 46px;"></i></a
      >
    </div> -->
  </div>
</LandingPageLayout>

<script>
  import { tns } from 'tiny-slider';

  function windowScroll(): void {
    const navbar = document.getElementById('navbar');
    if (navbar) {
      if (
        document.body.scrollTop >= 50 ||
        document.documentElement.scrollTop >= 50
      ) {
        navbar.classList.add('nav-sticky');
      } else {
        navbar.classList.remove('nav-sticky');
      }
    }
  }

  window.addEventListener('scroll', (ev: Event) => {
    ev.preventDefault();
    windowScroll();
  });

  /********************* light-dark js ************************/
  const bodyElem = document.body;

  if (bodyElem.getAttribute('data-bs-theme') === 'dark') {
    sessionStorage.setItem('data-mode', 'dark');
  } else if (bodyElem.getAttribute('data-bs-theme') === 'light') {
    sessionStorage.setItem('data-mode', 'light');
  }

  const dataMode = sessionStorage.getItem('data-mode');
  if (dataMode) {
    bodyElem.setAttribute('data-bs-theme', dataMode);
    toggleBtn(1);
  } else if (dataMode === null) {
    bodyElem.setAttribute('data-bs-theme', 'light');
  }

  function toggleBtn(r: number): void {
    const dataTheme = bodyElem.getAttribute('data-bs-theme');
    let themeSwitch: boolean;

    if (dataTheme === 'light') {
      themeSwitch = true;
    } else {
      themeSwitch = false;
    }

    if (r) {
      themeSwitch = !themeSwitch;
    }

    if (themeSwitch) {
      document.body.setAttribute('data-bs-theme', 'dark');
      sessionStorage.setItem('data-mode', 'dark');
    } else {
      document.body.setAttribute('data-bs-theme', 'light');
      sessionStorage.setItem('data-mode', 'light');
    }
  }
  window.addEventListener('click', (event: any) => {
    if (event.target) {
      const isModeChangebutton = ['mode-light', 'mode-dark'].some(
        (item: string) => event?.target?.classList.contains(item)
      );
      if (isModeChangebutton) {
        toggleBtn(0);
      }
    }
  });

  /********************* Swicher js ************************/

  function toggleSwitcher(): void {
    const switcher = document.getElementById('style-switcher');
    if (switcher) {
      if (switcher.style.left === '-189px') {
        switcher.style.left = '0px';
      } else {
        switcher.style.left = '-189px';
      }
    }
  }

  function setColor(theme: string): void {
    const colorOpt = document.getElementById('color-opt') as HTMLLinkElement;
    if (colorOpt) {
      colorOpt.href = './css/colors/' + theme + '.css';
    }
    toggleSwitcher();
  }

  // ********** tiny slider ** testi **

  const slider = tns({
    container: '.testi-slider',
    loop: true,
    autoplay: false,
    mouseDrag: true,
    controls: false,
    navPosition: 'bottom',
    nav: true,
    autoplayTimeout: 5000,
    speed: 900,
    center: false,
    animateIn: 'fadeIn',
    animateOut: 'fadeOut',
    controlsText: ['&#8592;', '&#8594;'],
    autoplayButtonOutput: false,
    gutter: 30,
    responsive: {
      992: {
        gutter: 30,
        items: 1.2,
      },
    },
  });
</script>
<script is:inline>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.swiper-container', {
      loop: true,
      slidesPerView: 5,
      spaceBetween: 30,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      centeredSlides: true,
      speed: 5000,
      autoplay: {
        delay: 5000,
      },
      breakpoints: {
        1920: {
          slidesPerView: 5,
          spaceBetween: 50,
        },
        992: {
          slidesPerView: 3,
          spaceBetween: 30,
        },
        768: {
          slidesPerView: 1,
          spaceBetween: 30,
        },
      },
    });
  });
</script>
<script is:inline>
  const button = document.querySelector('.popover-button button');
  const popover = document.getElementById('tally-popover');
  const closePopoverButton = document.getElementById('close-popover');

  button.addEventListener('click', () => {
    popover.classList.add('show');
  });

  closePopoverButton.addEventListener('click', () => {
    popover.classList.remove('show');
  });
</script>
<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('navbarToggle');
    const navbarCollapse = document.getElementById('navbarNav');
    toggleButton.addEventListener('click', () => {
      navbarCollapse.classList.toggle('show');
    });
  });
</script>
<script is:inline>
  import * as bootstrap from 'bootstrap';

  const tooltipTriggerList = [].slice.call(
    document.querySelectorAll('[data-bs-toggle="tooltip"]')
  );
  const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });
</script>
