---
import LandingPageNav from '@/components/sections/navbar&footer/landingPageNav.astro';
import LpageFooter from '@/components/sections/navbar&footer/LpageFooter.astro';
import Meta from '@components/Meta.astro';
import { SITE } from '@data/constants';

const { title = SITE.title, meta, structuredData, lang = 'en' } = Astro.props;

interface Props {
  title?: string;
  meta?: string;
  structuredData?: object;
  lang?: string;
}
---

<html lang={lang} class="scrollbar-hide lenis lenis-smooth scroll-pt-16">
  <head>
    <meta name="robots" content="noindex,nofollow" />
    <Meta meta={meta} structuredData={structuredData} />
    <title>{title}</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cardo&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Include Swiper CSS via CDN -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="/src/pwa.ts"></script>
  </head>
  <body data-bs-spy="scroll" class="">
    <!-- NAVBAR -->
    <LandingPageNav />
    <main>
      <div class="overlay-hero" id="tally-popover-email-hero">
        <div class="popover-hero">
          <iframe
            src="https://tally.so/embed/3qEW67?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
            width="100%"
            height="300"
            style="border: none;"></iframe>
          <button class="close-btn">Close</button>
        </div>
      </div>
      <slot />
    </main>
    <!-- footer section -->
    <LpageFooter />
    <style>
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>

    <script
      src="https://unpkg.com/swiper/swiper-bundle.min.js"
      defer
      is:inline
      crossorigin="anonymous"></script>

    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      defer
      is:inline
      crossorigin="anonymous"></script>

    <script is:inline>
      document.addEventListener('click', (event) => {
        if (event.target.closest('.tally-popover-email-hero')) {
          document.getElementById('tally-popover-email-hero').style.display =
            'flex';
        }

        if (event.target.closest('.close-btn')) {
          document.getElementById('tally-popover-email-hero').style.display =
            'none';
        }
      });
    </script>
  </body>
</html>
